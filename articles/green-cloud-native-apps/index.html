<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" href="/_next/static/media/graziano-casto.17cc67b9.jpg" as="image" fetchpriority="high"/><title>Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy - by Graziano Casto</title><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy","datePublished":"2024-03-20T00:00:00.000Z","dateModified":"2024-03-20T00:00:00.000Z","author":[{"@type":"Person","name":"Graziano Casto","url":"https://castograziano.com/about-me"}]}</script><meta name="description" content="Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy - by Graziano Casto"/><link rel="canonical" href="https://www.castograziano.comhttps://castograziano.com/articles/green-cloud-native-apps"/><meta property="og:title" content="Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy - by Graziano Casto"/><meta property="og:description" content="Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy - by Graziano Casto"/><meta property="og:url" content="https://www.castograziano.comhttps://castograziano.com/articles/green-cloud-native-apps"/><meta property="og:image" content="https://castograziano.com/casto_graziano_personal_website.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy - by Graziano Casto"/><meta name="twitter:description" content="Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy - by Graziano Casto"/><meta name="twitter:image" content="https://castograziano.com/casto_graziano_personal_website.png"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/images/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/f47e3e4f61fa5b21.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f47e3e4f61fa5b21.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-0b5d8249fb15f5f3.js" defer=""></script><script src="/_next/static/chunks/framework-2c16ac744b6cdea6.js" defer=""></script><script src="/_next/static/chunks/main-69b16c27ce463005.js" defer=""></script><script src="/_next/static/chunks/pages/_app-666f3c6bf21653ac.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-0c229d73ad55d035.js" defer=""></script><script src="/_next/static/k5Bl1KTEY31jScbxnvk9d/_buildManifest.js" defer=""></script><script src="/_next/static/k5Bl1KTEY31jScbxnvk9d/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="flex w-full"><div class="fixed inset-0 flex justify-center sm:px-8"><div class="flex w-full max-w-7xl lg:px-8"><div class="w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20"></div></div></div><div class="relative flex w-full flex-col"><header class="pointer-events-none relative z-50 flex flex-none flex-col" style="height:var(--header-height);margin-bottom:var(--header-mb)"><div class="top-0 z-10 h-16 pt-6" style="position:var(--header-position)"><div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full" style="position:var(--header-inner-position)"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="relative flex gap-4"><div class="flex flex-1"><div class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10"><a aria-label="Home" class="pointer-events-auto" href="/"><img alt="" fetchpriority="high" width="1872" height="1914" decoding="async" data-nimg="1" class="rounded-full bg-zinc-100 object-cover dark:bg-zinc-800 h-9 w-9" style="color:transparent" src="/_next/static/media/graziano-casto.17cc67b9.jpg"/></a></div></div><div class="flex flex-1 justify-end md:justify-center"><div class="pointer-events-auto md:hidden" data-headlessui-state=""><button class="group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20" type="button" aria-expanded="false" data-headlessui-state="">Menu<svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400"><path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div><div hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div><nav class="pointer-events-auto hidden md:block"><ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10"><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/about-me/">About</a></li><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/articles/">Articles</a></li><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/speaking/">Speaking</a></li><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/projects/">Projects</a></li></ul></nav></div><div class="flex justify-end md:flex-1"><div class="pointer-events-auto"><button type="button" aria-label="Toggle theme" class="group rounded-full bg-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20"><svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" class="h-6 w-6 fill-zinc-100 stroke-zinc-500 transition group-hover:fill-zinc-200 group-hover:stroke-zinc-700 dark:hidden [@media(prefers-color-scheme:dark)]:fill-teal-50 [@media(prefers-color-scheme:dark)]:stroke-teal-500 [@media(prefers-color-scheme:dark)]:group-hover:fill-teal-50 [@media(prefers-color-scheme:dark)]:group-hover:stroke-teal-600"><path d="M8 12.25A4.25 4.25 0 0 1 12.25 8v0a4.25 4.25 0 0 1 4.25 4.25v0a4.25 4.25 0 0 1-4.25 4.25v0A4.25 4.25 0 0 1 8 12.25v0Z"></path><path d="M12.25 3v1.5M21.5 12.25H20M18.791 18.791l-1.06-1.06M18.791 5.709l-1.06 1.06M12.25 20v1.5M4.5 12.25H3M6.77 6.77 5.709 5.709M6.77 17.73l-1.061 1.061" fill="none"></path></svg><svg viewBox="0 0 24 24" aria-hidden="true" class="hidden h-6 w-6 fill-zinc-700 stroke-zinc-500 transition dark:block [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-400 [@media_not_(prefers-color-scheme:dark)]:fill-teal-400/10 [@media_not_(prefers-color-scheme:dark)]:stroke-teal-500"><path d="M17.25 16.22a6.937 6.937 0 0 1-9.47-9.47 7.451 7.451 0 1 0 9.47 9.47ZM12.75 7C17 7 17 2.75 17 2.75S17 7 21.25 7C17 7 17 11.25 17 11.25S17 7 12.75 7Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div></div></div></div></div></div></div></header><main class="flex-auto"><div class="sm:px-8 mt-16 lg:mt-32"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="xl:relative"><div class="mx-auto max-w-2xl"><article><header class="flex flex-col"><h1 class="mt-6 text-4xl font-bold tracking-tight text-zinc-800 sm:text-5xl dark:text-zinc-100">Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy</h1><time dateTime="2024-03-20" class="order-first flex items-center text-base text-zinc-500 dark:text-zinc-400"><span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span><span class="ml-3">March 20, 2024</span></time></header><div class="mt-8 prose dark:prose-invert" data-mdx-content="true"><div><p><a href="https://thenewstack.io/an-open-source-journey-to-greener-cloud-native-environments/">Published by TheNewStack</a></p>
<p>Over a year, the energy consumed by an average email inbox, which typically holds around 10,000 emails, is equivalent to driving a car for 212 meters. When this energy consumption is multiplied by global email usage, it generates carbon dioxide emissions equivalent to adding 7 million cars to the roads.</p>
<p>The information and communication technology sector produces around 1.4% of overall global emissions. This equates to an estimated 1.6 billion tons of greenhouse gas emissions, making each one of us internet users responsible for about 400kg of carbon dioxide a year.</p>
<p>The global digital carbon footprint could be reduced by 80% if the electricity powering it shifted from fossil fuels to renewable sources. Tech giants like Google and Meta are taking decisive steps in this direction, committing substantial financial resources toward carbon removal as part of a broader industry collaboration.</p>
<p>However, environmental responsibility in our use of resources can’t be solely delegated to big tech companies. It should be a shared responsibility. Every company, regardless of size, should be aware of its carbon footprint and make necessary adjustments to improve environmental sustainability.</p>
<p>Here are some approaches to enhance the environmental sustainability of cloud native applications by implementing optimizations in Kubernetes runtimes. We will explore methods to shift resource usage toward renewable energy sources and minimize the so-called cloud zombies.</p>
<h3>A first step to a greener cloud native experience</h3>
<p>One of the most challenging aspects of green software is understanding where to start. Before delving into more complex things, a good starting point is to raise awareness of the hidden “zombies” within our infrastructure. By zombies, I refer to workloads that do not perform any useful tasks, resulting in a waste of both environmental and financial resources.</p>
<p>Those used for testing and development purposes — typically only during working hours — are a common example. Considering that the average ratio between working and nonworking hours in a week is approximately 4-to-1 in favor of nonworking hours, it’s evident that these workloads need to be addressed.</p>
<p>One effective solution is kube-green, an open source tool developed by Davide Bianchi, senior technical leader at Mia-Platform. Kube-green manages Kubernetes cluster resizing to optimize IT infrastructure energy consumption, reducing CO2 emissions by around 30% on average. This tool acts as a Kubernetes controller that defines a custom resource definition (CRD) named SleepInfo, which allows you to pause and restart pods within a specific namespace. With kube-green, you can scale down the number of deployments to zero and limit cron jobs to run only during working hours.</p>
<p>Kube-green has been part of the scheduling and orchestration section of the Cloud Native Computing Foundation (CNCF) landscape since 2022. The number of kube-green adopters is continuously growing, with users reporting significant benefits — not only in environmental impact but also in cloud cost management, with an average savings of about 30%.</p>
<h3>Carbon Intensity</h3>
<p>Being aware of carbon intensity, which refers to the amount of carbon dioxide emitted per kilowatt-hour of energy consumed in the regions where our cloud service provider makes resources available to us, allows us to adjust the execution of our workloads so that they primarily use energy from renewable sources. The basic concept is simple: When energy production is skewed toward renewable sources, we run more workloads; when it is not, we run fewer.</p>
<p>To balance workloads so they align with the use of energy sources by the cloud service provider, we have two strategies: temporal shifting, which involves shifting major workloads to times when renewable energy usage is lower in the region where our cluster is located, and spatial shifting, which involves multiregion federation mechanisms to move workloads to physical locations where the grid carbon intensity is lower.</p>
<p>The choice between the two approaches depends on the type of workload being considered. For extremely time-sensitive computations, such as digital payments, it’s best to adopt the temporal shifting approach. On the other hand, for computations that are not particularly time-sensitive, such as machine learning model training, the spatial approach can also be adopted. For instance, Google has implemented spatial shifting for managing multimedia files on platforms like Google Drive and YouTube. Another important consideration is the presence of policies that require the use of a specific region: In this case, temporal shifting is the only available option.</p>
<p>Regardless of the choice between temporal shifting and spatial shifting, a fundamental requirement is access to data on the carbon intensity of the grid in our regions. To obtain such data, there are two available services: WattTime and Electricity Maps. The difference between the two is that WattTime provides marginal carbon intensity, while Electricity Maps provides average carbon intensity. Consequently, WattTime is preferred for optimizing immediate impacts, while Electricity Maps is more suitable for long-term optimizations.</p>
<p>The Green Web Foundation has simplified access to this type of data by providing grid-intensity-go, a Go library designed to be integrated into Kubernetes and other schedulers. This allows the use of carbon intensity values in decisions on where and when to run jobs.</p>
<h3>Conclusion</h3>
<p>As we continue to advance with innovative technologies, ensuring the environmental sustainability of cloud computing is essential for long-term success and progress at the forefront of the industry. As the demand for digital services continues to grow exponentially, so does the energy consumption and carbon footprint associated with powering data centers. Therefore, adopting green practices and prioritizing renewable energy sources in cloud infrastructure is mandatory to mitigate the environmental impact and pave the way for a sustainable digital future.</p>
<p>With this approach, not only do we address ecological concerns, but we also gain significant enhancements in FinOps management. By optimizing resource allocation, we can drive efficiency and reduce waste, contributing to a healthier planet while still pushing the boundaries of technological innovation.</p>
</div></div></article></div></div></div></div></div></div></main><footer class="mt-32 flex-none"><div class="sm:px-8"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-6 sm:flex-row"><div class="flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-800 dark:text-zinc-200"><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/about-me/">About</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/projects/">Projects</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/speaking/">Speaking</a></div><p class="text-sm text-zinc-500 dark:text-zinc-400">© <!-- -->2025<!-- --> Graziano Casto. All rights reserved.</p></div></div></div></div></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"article":{"title":"Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy","date":"2024-03-20"},"children":"\u003cp\u003e\u003ca href=\"https://thenewstack.io/an-open-source-journey-to-greener-cloud-native-environments/\"\u003ePublished by TheNewStack\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eOver a year, the energy consumed by an average email inbox, which typically holds around 10,000 emails, is equivalent to driving a car for 212 meters. When this energy consumption is multiplied by global email usage, it generates carbon dioxide emissions equivalent to adding 7 million cars to the roads.\u003c/p\u003e\n\u003cp\u003eThe information and communication technology sector produces around 1.4% of overall global emissions. This equates to an estimated 1.6 billion tons of greenhouse gas emissions, making each one of us internet users responsible for about 400kg of carbon dioxide a year.\u003c/p\u003e\n\u003cp\u003eThe global digital carbon footprint could be reduced by 80% if the electricity powering it shifted from fossil fuels to renewable sources. Tech giants like Google and Meta are taking decisive steps in this direction, committing substantial financial resources toward carbon removal as part of a broader industry collaboration.\u003c/p\u003e\n\u003cp\u003eHowever, environmental responsibility in our use of resources can’t be solely delegated to big tech companies. It should be a shared responsibility. Every company, regardless of size, should be aware of its carbon footprint and make necessary adjustments to improve environmental sustainability.\u003c/p\u003e\n\u003cp\u003eHere are some approaches to enhance the environmental sustainability of cloud native applications by implementing optimizations in Kubernetes runtimes. We will explore methods to shift resource usage toward renewable energy sources and minimize the so-called cloud zombies.\u003c/p\u003e\n\u003ch3\u003eA first step to a greener cloud native experience\u003c/h3\u003e\n\u003cp\u003eOne of the most challenging aspects of green software is understanding where to start. Before delving into more complex things, a good starting point is to raise awareness of the hidden “zombies” within our infrastructure. By zombies, I refer to workloads that do not perform any useful tasks, resulting in a waste of both environmental and financial resources.\u003c/p\u003e\n\u003cp\u003eThose used for testing and development purposes — typically only during working hours — are a common example. Considering that the average ratio between working and nonworking hours in a week is approximately 4-to-1 in favor of nonworking hours, it’s evident that these workloads need to be addressed.\u003c/p\u003e\n\u003cp\u003eOne effective solution is kube-green, an open source tool developed by Davide Bianchi, senior technical leader at Mia-Platform. Kube-green manages Kubernetes cluster resizing to optimize IT infrastructure energy consumption, reducing CO2 emissions by around 30% on average. This tool acts as a Kubernetes controller that defines a custom resource definition (CRD) named SleepInfo, which allows you to pause and restart pods within a specific namespace. With kube-green, you can scale down the number of deployments to zero and limit cron jobs to run only during working hours.\u003c/p\u003e\n\u003cp\u003eKube-green has been part of the scheduling and orchestration section of the Cloud Native Computing Foundation (CNCF) landscape since 2022. The number of kube-green adopters is continuously growing, with users reporting significant benefits — not only in environmental impact but also in cloud cost management, with an average savings of about 30%.\u003c/p\u003e\n\u003ch3\u003eCarbon Intensity\u003c/h3\u003e\n\u003cp\u003eBeing aware of carbon intensity, which refers to the amount of carbon dioxide emitted per kilowatt-hour of energy consumed in the regions where our cloud service provider makes resources available to us, allows us to adjust the execution of our workloads so that they primarily use energy from renewable sources. The basic concept is simple: When energy production is skewed toward renewable sources, we run more workloads; when it is not, we run fewer.\u003c/p\u003e\n\u003cp\u003eTo balance workloads so they align with the use of energy sources by the cloud service provider, we have two strategies: temporal shifting, which involves shifting major workloads to times when renewable energy usage is lower in the region where our cluster is located, and spatial shifting, which involves multiregion federation mechanisms to move workloads to physical locations where the grid carbon intensity is lower.\u003c/p\u003e\n\u003cp\u003eThe choice between the two approaches depends on the type of workload being considered. For extremely time-sensitive computations, such as digital payments, it’s best to adopt the temporal shifting approach. On the other hand, for computations that are not particularly time-sensitive, such as machine learning model training, the spatial approach can also be adopted. For instance, Google has implemented spatial shifting for managing multimedia files on platforms like Google Drive and YouTube. Another important consideration is the presence of policies that require the use of a specific region: In this case, temporal shifting is the only available option.\u003c/p\u003e\n\u003cp\u003eRegardless of the choice between temporal shifting and spatial shifting, a fundamental requirement is access to data on the carbon intensity of the grid in our regions. To obtain such data, there are two available services: WattTime and Electricity Maps. The difference between the two is that WattTime provides marginal carbon intensity, while Electricity Maps provides average carbon intensity. Consequently, WattTime is preferred for optimizing immediate impacts, while Electricity Maps is more suitable for long-term optimizations.\u003c/p\u003e\n\u003cp\u003eThe Green Web Foundation has simplified access to this type of data by providing grid-intensity-go, a Go library designed to be integrated into Kubernetes and other schedulers. This allows the use of carbon intensity values in decisions on where and when to run jobs.\u003c/p\u003e\n\u003ch3\u003eConclusion\u003c/h3\u003e\n\u003cp\u003eAs we continue to advance with innovative technologies, ensuring the environmental sustainability of cloud computing is essential for long-term success and progress at the forefront of the industry. As the demand for digital services continues to grow exponentially, so does the energy consumption and carbon footprint associated with powering data centers. Therefore, adopting green practices and prioritizing renewable energy sources in cloud infrastructure is mandatory to mitigate the environmental impact and pave the way for a sustainable digital future.\u003c/p\u003e\n\u003cp\u003eWith this approach, not only do we address ecological concerns, but we also gain significant enhancements in FinOps management. By optimizing resource allocation, we can drive efficiency and reduce waste, contributing to a healthier planet while still pushing the boundaries of technological innovation.\u003c/p\u003e\n","pageTitle":"Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy - by Graziano Casto","pageDescription":"Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy - by Graziano Casto","pageLink":"https://castograziano.com/articles/green-cloud-native-apps","pageImage":"https://castograziano.com/casto_graziano_personal_website.png"},"schema":{"@context":"https://schema.org","@type":"BlogPosting","headline":"Green Cloud Native Apps: Optimize Kubernetes for Renewable Energy","datePublished":"2024-03-20T00:00:00.000Z","dateModified":"2024-03-20T00:00:00.000Z","author":[{"@type":"Person","name":"Graziano Casto","url":"https://castograziano.com/about-me"}]}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"green-cloud-native-apps"},"buildId":"k5Bl1KTEY31jScbxnvk9d","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>