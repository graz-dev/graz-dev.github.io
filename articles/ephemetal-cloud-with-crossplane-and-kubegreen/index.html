<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" href="/_next/static/media/graziano-casto.17cc67b9.jpg" as="image" fetchpriority="high"/><title>The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green - by Graziano Casto</title><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green","datePublished":"2025-08-25T00:00:00.000Z","dateModified":"2025-08-25T00:00:00.000Z","author":[{"@type":"Person","name":"Graziano Casto","url":"https://castograziano.com/about-me"}]}</script><meta name="description" content="The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green - by Graziano Casto"/><link rel="canonical" href="https://www.castograziano.comhttps://castograziano.com/articles/ephemetal-cloud-with-crossplane-and-kubegreen"/><meta property="og:title" content="The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green - by Graziano Casto"/><meta property="og:description" content="The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green - by Graziano Casto"/><meta property="og:url" content="https://www.castograziano.comhttps://castograziano.com/articles/ephemetal-cloud-with-crossplane-and-kubegreen"/><meta property="og:image" content="https://castograziano.com/casto_graziano_personal_website.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green - by Graziano Casto"/><meta name="twitter:description" content="The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green - by Graziano Casto"/><meta name="twitter:image" content="https://castograziano.com/casto_graziano_personal_website.png"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/images/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/999d5f2b05d61cff.css" as="style"/><link rel="stylesheet" href="/_next/static/css/999d5f2b05d61cff.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-0b5d8249fb15f5f3.js" defer=""></script><script src="/_next/static/chunks/framework-2c16ac744b6cdea6.js" defer=""></script><script src="/_next/static/chunks/main-69b16c27ce463005.js" defer=""></script><script src="/_next/static/chunks/pages/_app-666f3c6bf21653ac.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-0c229d73ad55d035.js" defer=""></script><script src="/_next/static/cX5uW1vCazRxt3VxGRD10/_buildManifest.js" defer=""></script><script src="/_next/static/cX5uW1vCazRxt3VxGRD10/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="flex w-full"><div class="fixed inset-0 flex justify-center sm:px-8"><div class="flex w-full max-w-7xl lg:px-8"><div class="w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20"></div></div></div><div class="relative flex w-full flex-col"><header class="pointer-events-none relative z-50 flex flex-none flex-col" style="height:var(--header-height);margin-bottom:var(--header-mb)"><div class="top-0 z-10 h-16 pt-6" style="position:var(--header-position)"><div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full" style="position:var(--header-inner-position)"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="relative flex gap-4"><div class="flex flex-1"><div class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10"><a aria-label="Home" class="pointer-events-auto" href="/"><img alt="" fetchpriority="high" width="1872" height="1914" decoding="async" data-nimg="1" class="rounded-full bg-zinc-100 object-cover dark:bg-zinc-800 h-9 w-9" style="color:transparent" src="/_next/static/media/graziano-casto.17cc67b9.jpg"/></a></div></div><div class="flex flex-1 justify-end md:justify-center"><div class="pointer-events-auto md:hidden" data-headlessui-state=""><button class="group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20" type="button" aria-expanded="false" data-headlessui-state="">Menu<svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400"><path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div><div hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div><nav class="pointer-events-auto hidden md:block"><ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10"><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/about-me/">About</a></li><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/articles/">Articles</a></li><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/speaking/">Speaking</a></li><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/projects/">Projects</a></li></ul></nav></div><div class="flex justify-end md:flex-1"><div class="pointer-events-auto"><button type="button" aria-label="Toggle theme" class="group rounded-full bg-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20"><svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" class="h-6 w-6 fill-zinc-100 stroke-zinc-500 transition group-hover:fill-zinc-200 group-hover:stroke-zinc-700 dark:hidden [@media(prefers-color-scheme:dark)]:fill-teal-50 [@media(prefers-color-scheme:dark)]:stroke-teal-500 [@media(prefers-color-scheme:dark)]:group-hover:fill-teal-50 [@media(prefers-color-scheme:dark)]:group-hover:stroke-teal-600"><path d="M8 12.25A4.25 4.25 0 0 1 12.25 8v0a4.25 4.25 0 0 1 4.25 4.25v0a4.25 4.25 0 0 1-4.25 4.25v0A4.25 4.25 0 0 1 8 12.25v0Z"></path><path d="M12.25 3v1.5M21.5 12.25H20M18.791 18.791l-1.06-1.06M18.791 5.709l-1.06 1.06M12.25 20v1.5M4.5 12.25H3M6.77 6.77 5.709 5.709M6.77 17.73l-1.061 1.061" fill="none"></path></svg><svg viewBox="0 0 24 24" aria-hidden="true" class="hidden h-6 w-6 fill-zinc-700 stroke-zinc-500 transition dark:block [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-400 [@media_not_(prefers-color-scheme:dark)]:fill-teal-400/10 [@media_not_(prefers-color-scheme:dark)]:stroke-teal-500"><path d="M17.25 16.22a6.937 6.937 0 0 1-9.47-9.47 7.451 7.451 0 1 0 9.47 9.47ZM12.75 7C17 7 17 2.75 17 2.75S17 7 21.25 7C17 7 17 11.25 17 11.25S17 7 12.75 7Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div></div></div></div></div></div></div></header><main class="flex-auto"><div class="sm:px-8 mt-16 lg:mt-32"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="xl:relative"><div class="mx-auto max-w-2xl"><article><header class="flex flex-col"><h1 class="mt-6 text-4xl font-bold tracking-tight text-zinc-800 sm:text-5xl dark:text-zinc-100">The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green</h1><time dateTime="2025-08-25" class="order-first flex items-center text-base text-zinc-500 dark:text-zinc-400"><span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span><span class="ml-3">August 25, 2025</span></time></header><div class="mt-8 prose dark:prose-invert" data-mdx-content="true"><div><p><a href="https://dzone.com/articles/infrastructure-crossplane-kube-green">Published by DZONE</a></p>
<p>We were all sold a compelling vision of cloud computing: one filled with agility, endless scalability, and remarkable cost savings. Yet, for many of us in the trenches, the daily reality looks quite different. We find ourselves wrestling with an infrastructure model built on long-lived, static environments for development, testing, and staging. This old way of working has quietly become a massive drain on our resources, creating financial waste, operational headaches, and a growing list of security and environmental debts.</p>
<p>This isn't just one problem; it's a vicious cycle. The friction in our daily operations directly fuels the financial, security, and environmental burdens. To break free, we need more than just a new tool; we need to fundamentally rethink how we provision, manage, and consume infrastructure.</p>
<h2>The High Cost of 'Always-On'</h2>
<p>The most obvious symptom of this broken model is the money it wastes. It's not a small number; research suggests a staggering <a href="https://42on.com/the-hidden-costs-of-cloud-waste-how-to-optimize-your-cloud-resources-and-reduce-environmental-impact/">30-45% of all cloud spending is wasted on idle or over-provisioned resources</a>. This isn't surprising when you think about it. Our staging, UAT, and dev environments are built to handle peak loads, but they spend most of their lives (nights, weekends, holidays) doing absolutely nothing. This leads to an abysmal average CPU utilization of just 12-15%, a clear sign that something is deeply inefficient. This problem is made worse by "cloud sprawl", where new resources pop up uncontrolled, increasing costs, security holes, and complexity.</p>
<p>This financial drain is a direct result of operational friction. Many of us are familiar with the "ticket-driven" culture: a developer needs an environment, so they file a ticket and wait. And wait. This manual, slow process creates bottlenecks that grind the entire development lifecycle to a halt. In a world of complex microservices, setting these environments up by hand isn't just slow; it's a recipe for errors. This model encourages us to keep these costly, complex environments running indefinitely, because tearing them down and rebuilding them is just too painful.</p>
<p>This persistence creates a huge security risk. Over time, these static environments suffer from "configuration drift." Manual tweaks, untracked updates, and inconsistent patching mean they no longer match production or even each other. They become, as one source aptly put it, a <a href="https://www.quali.com/glossary/ephemeral-environments/">"hive of duplicated data, exploitable vulnerabilities, and misconfigurations"</a>. Each one is a persistent attack surface, a liability that only grows with time.</p>
<h2>The Unseen Environmental Toll</h2>
<p>The money we waste on idle resources is just the tip of the iceberg. Under the surface lies a massive, often ignored, environmental cost. Every idle virtual machine or database isn't just a line item on a bill; it's a physical server in a data center, burning electricity and pumping out CO2 for no reason. Data centers already consume about <a href="https://www.researchgate.net/publication/390569272_The_Environmental_Impact_of_Cloud_Computing_Sustainability_in_the_Cloud">1% of the world's electricity</a>, and that number is only going up.</p>
<p>To put this in perspective, a 2019 study found that training a single large AI model can produce the same carbon emissions as <a href="https://www.forbes.com/councils/forbestechcouncil/2025/02/20/the-unsung-mechanics-how-ai-and-cloud-integration-drive-the-engine-of-sustainability/">more than 300 cross-country flights</a>. This is the energy cost of our digital world. Beyond emissions, there's e-waste from constant hardware upgrades and the immense amount of water used for cooling. While cloud providers are more efficient than on-premise data centers, the core problem remains: we, the customers, are provisioning resources that sit idle, driving unnecessary environmental impact.</p>
<p>Let's make this real. Imagine a team of 10 engineers with a single, static staging environment. It runs 24/7, but they only use it for about 160 hours a month. For the other 560 hours, nearly 78% of the time, it's idle but still racking up costs. Using the CO2 calculator from the <a href="https://kube-green.dev/">kube-green project</a>, which assumes that a single pod produces about <a href="https://kube-green.dev/docs/FAQ/#how-much-co2-is-produced-by-a-pod">11 kg of CO2eq per year</a>, we can see the impact. If that staging environment runs 20 pods, it generates 220 kg of CO2eq annually. By simply shutting it down when it's idle, the team could prevent over 170 kg of CO2eq emissions. Now, scale that across an entire organization. The waste is enormous.</p>
<h2>The Ephemeral Revolution</h2>
<p>This is where a new idea comes in: the ephemeral environment. It’s a complete shift in thinking. Instead of permanent, long-lived infrastructure, we move to on-demand, temporary workspaces that directly combat waste and friction. An ephemeral environment is a short-lived, isolated, and complete copy of your application, spun up for a specific task and automatically destroyed when you're done.</p>
<p>This approach is built on a few key ideas. First, it's <strong>on-demand and automated</strong>. Environments are created by events in your workflow, like opening a pull request, not by filing a ticket. What once took days now takes minutes. Second, each environment is <strong>completely isolated</strong>. This means no more "who broke the staging server?" A developer can test a new feature, run a database migration, or experiment with a dependency without affecting anyone else. This enables true parallel development.</p>
<p>Crucially, these are not just simple "preview environments". A true ephemeral environment achieves <strong>production-parity</strong>. It’s a full-fidelity clone of your production stack: backend services, databases, configurations, everything. This is how you kill the "it works on my machine" problem for good. Finally, these environments are both <strong>shareable and disposable</strong>. You get a unique URL to share with stakeholders for feedback on a live, running feature. When the pull request is merged, the entire environment is wiped away as if it never existed. This disposable nature is the key to its efficiency.</p>
<p>Adopting this model has a transformative impact. It dramatically boosts developer velocity by removing bottlenecks. Some organizations have seen <a href="https://ephemeralenvironments.io/">delivery times improve by up to 35%</a> and overall velocity increase by as much as 10x. It fosters better collaboration because everyone, from product managers to QA, can interact with a tangible, running feature, not just mockups. This "shift-left" approach to testing also means you catch bugs earlier, significantly improving code quality and reducing the risk of production failures. The old static staging environment is a relic of an old era: costly, slow, and risky. The ephemeral model is its opposite: on-demand, fast, safe, and efficient.</p>
<h2>The Technology Pillars: Crossplane and kube-green</h2>
<p>This vision of a fully ephemeral cloud requires the right technology. You need to be able to programmatically control not just your application containers, but the entire infrastructure ecosystem: databases, networks, storage, and more. This is where two key open-source projects come into play: Crossplane and kube-green.</p>
<p>Crossplane is the heart of this architecture. It’s a universal control plane that extends the Kubernetes API to manage any cloud resource, not just containers. This represents a profound shift from traditional <a href="https://dzone.com/articles/what-is-infrastructure-as-code">Infrastructure as Code (IaC)</a> tools like Terraform to a new model: <a href="https://medium.com/@swarupdonepudi/infrastructure-as-data-iad-coincidence-2ca6c70f896e">Infrastructure as Data (IaD)</a>.</p>
<p>With traditional IaC, you run a command like terraform apply to make a one-time change. With Crossplane, you declare the desired state of your infrastructure in a YAML file and submit it to the Kubernetes API. From then on, Crossplane's controllers work continuously to ensure reality matches your declaration. If anything drifts, Crossplane automatically corrects it. This "self-healing" capability is a game-changer.</p>
<p>It works through a clever, layered architecture. <strong>Providers</strong> teach Crossplane how to talk to a specific API, like AWS or GCP. <strong>Managed Resources</strong> are the building blocks, representing a single piece of infrastructure like an S3 bucket or an RDS database. But the real magic is in <strong>Compositions</strong>. A platform team can use a Composition to bundle all the necessary Managed Resources into a single, high-level abstraction, like a PostgreSQLInstance. This blueprint can embed all the company's best practices for security, networking, and compliance.</p>
<p>Developers don't need to worry about that complexity. They simply request what they need by creating a <strong>Claim</strong>: a simple YAML asking for a PostgreSQLInstance for example. Crossplane sees the claim and provisions the entire, production-ready stack automatically. This is true developer self-service, and it's exactly what's needed for ephemeral environments. When a pull request is opened, a CI/CD pipeline can create a single Claim that tells Crossplane to spin up a dedicated database, message queue, and everything else the application needs. When the PR is closed, deleting that one Claim tears it all down.</p>
<p>While Crossplane manages the existence of the environment, <a href="https://kube-green.dev/">kube-green</a> handles the efficiency within that existence. An ephemeral environment might live for a few days, but developers aren't working on it 24/7. kube-green is a simple, brilliant utility that solves this "last mile" problem by automatically hibernating resources on a schedule.</p>
<p>It operates as a Kubernetes operator that you configure with a <strong>SleepInfo</strong> resource in each namespace. You can tell it to shut things down at 8 PM on weekdays and wake them up at 8 AM, for example. When the sleep time hits, kube-green scales down your Deployments and suspends your CronJobs. When the wake-up time arrives, it brings everything back to its original state. This simple action can lead to huge savings. Adopters have reported <a href="https://kube-green.dev/docs/adopters/">30-40% reductions in cloud costs</a> for non-production clusters. And because it reduces energy consumption, it has a direct, positive impact on your carbon footprint.</p>
<h2>The Synthesis: A New Blueprint for Efficiency</h2>
<p>When you combine Crossplane's strategic, full-stack orchestration with kube-green's tactical, time-based optimization, you get something truly powerful. This synergy creates a multi-layered system of efficiency that aligns your infrastructure cost and carbon footprint with the actual, value-generating work of your development teams.</p>
<p>The workflow, driven by GitOps tools like ArgoCD, is beautifully simple. A developer opens a pull request. This triggers a CI pipeline that generates the manifests for the new environment, including a Crossplane Claim for the infrastructure and a kube-green SleepInfo for the schedule. These manifests are committed to a Git repository. ArgoCD sees the new files and applies them to your management cluster. Crossplane springs into action, provisioning the entire infrastructure stack, perhaps in a lightweight vCluster for perfect isolation. Once the infrastructure is ready, ArgoCD deploys the application code. When the PR is merged or closed, a CI job removes the manifests from Git, and the entire environment vanishes.</p>
<p>This creates a two-tiered optimization model. <strong>Macro-optimization</strong> from Crossplane ensures you only pay for infrastructure for the few days a PR is active, not for a permanent staging environment. <strong>Micro-optimization</strong> from kube-green then eliminates waste within that short lifespan by hibernating resources during non-working hours.</p>
<p>This points to an exciting point: a "deep sleep" model. Using kube-green's ability to patch any Kubernetes resource, you could have it not only scale down pods but also patch the Crossplane Claim itself, for example, telling it to scale a database cluster down to a single, low-cost node overnight. This would extend time-based optimization to the entire stateful infrastructure stack, achieving the ultimate form of on-demand efficiency.</p>
<h2>Getting Started on Your Journey</h2>
<p>While this vision of a fully automated, per-PR ephemeral world is the goal, you don't have to build it all at once. The journey can start with a single, high-impact step. To make these concepts tangible, I've put together a <a href="https://github.com/graz-dev/crossplane-ephemeral-environments">hands-on tutorial</a> that focuses on a pragmatic starting point: creating on-demand infrastructure that's only active when you need it.</p>
<p>The tutorial walks you through using Crossplane to provision an AWS EKS cluster and then using kube-green to put it on a sleep/wake schedule. It's a direct, practical way to tackle the biggest source of waste: idle resources.</p>
<p>If this vision for a more efficient cloud resonates with you, the best way to understand it is to build it. I invite you to check out the tutorial, <a href="https://github.com/graz-dev/crossplane-ephemeral-environments">Ephemeral Cloud Resources with Crossplane and kube-green</a>. Dive in, experiment with the code, and see the benefits for yourself. If you find it valuable, please give the repository a star on GitHub and share this article with your network.</p>
<h2>A Strategic Outlook for the Future</h2>
<p>The shift to an ephemeral cloud model is more than a technical upgrade; it's a strategic evolution. It allows us to move from passively managing static resources to actively orchestrating dynamic, value-generating capabilities. The future of this model is even more exciting, driven by AI-powered optimization and the formalization of GreenOps.</p>
<p>New AI tools like StormForge and CAST AI are emerging that can analyze workloads to automatically tune resource configurations and predict demand. Imagine an AI that could predict a PR's review cycle to allocate resources more intelligently or manage energy use based on the real-time carbon intensity of the power grid.</p>
<p>This model is also a foundational practice for GreenOps, the discipline of bringing environmental accountability to cloud operations. As sustainability becomes a key business metric, the ability to measure and minimize the carbon footprint of software development will be a major differentiator.</p>
<p>For technology leaders, the path forward is clear. Treat your internal infrastructure as a product and invest in a platform team to build out this capability. Foster a culture of accountability by making cost and carbon data transparent to your engineering teams. And start small. Pick a single service and use it as a pilot project to prove the value and build expertise.</p>
<p>The combination of Crossplane and kube-green offers a powerful and pragmatic toolkit to begin this journey. By adopting this new blueprint, you can accelerate innovation while dramatically reducing your financial and environmental costs.</p>
</div></div></article></div></div></div></div></div></div></main><footer class="mt-32 flex-none"><div class="sm:px-8"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-6 sm:flex-row"><div class="flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-800 dark:text-zinc-200"><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/about-me/">About</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/projects/">Projects</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/speaking/">Speaking</a></div><p class="text-sm text-zinc-500 dark:text-zinc-400">© <!-- -->2025<!-- --> Graziano Casto. All rights reserved.</p></div></div></div></div></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"article":{"title":"The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green","date":"2025-08-25"},"children":"\u003cp\u003e\u003ca href=\"https://dzone.com/articles/infrastructure-crossplane-kube-green\"\u003ePublished by DZONE\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eWe were all sold a compelling vision of cloud computing: one filled with agility, endless scalability, and remarkable cost savings. Yet, for many of us in the trenches, the daily reality looks quite different. We find ourselves wrestling with an infrastructure model built on long-lived, static environments for development, testing, and staging. This old way of working has quietly become a massive drain on our resources, creating financial waste, operational headaches, and a growing list of security and environmental debts.\u003c/p\u003e\n\u003cp\u003eThis isn't just one problem; it's a vicious cycle. The friction in our daily operations directly fuels the financial, security, and environmental burdens. To break free, we need more than just a new tool; we need to fundamentally rethink how we provision, manage, and consume infrastructure.\u003c/p\u003e\n\u003ch2\u003eThe High Cost of 'Always-On'\u003c/h2\u003e\n\u003cp\u003eThe most obvious symptom of this broken model is the money it wastes. It's not a small number; research suggests a staggering \u003ca href=\"https://42on.com/the-hidden-costs-of-cloud-waste-how-to-optimize-your-cloud-resources-and-reduce-environmental-impact/\"\u003e30-45% of all cloud spending is wasted on idle or over-provisioned resources\u003c/a\u003e. This isn't surprising when you think about it. Our staging, UAT, and dev environments are built to handle peak loads, but they spend most of their lives (nights, weekends, holidays) doing absolutely nothing. This leads to an abysmal average CPU utilization of just 12-15%, a clear sign that something is deeply inefficient. This problem is made worse by \"cloud sprawl\", where new resources pop up uncontrolled, increasing costs, security holes, and complexity.\u003c/p\u003e\n\u003cp\u003eThis financial drain is a direct result of operational friction. Many of us are familiar with the \"ticket-driven\" culture: a developer needs an environment, so they file a ticket and wait. And wait. This manual, slow process creates bottlenecks that grind the entire development lifecycle to a halt. In a world of complex microservices, setting these environments up by hand isn't just slow; it's a recipe for errors. This model encourages us to keep these costly, complex environments running indefinitely, because tearing them down and rebuilding them is just too painful.\u003c/p\u003e\n\u003cp\u003eThis persistence creates a huge security risk. Over time, these static environments suffer from \"configuration drift.\" Manual tweaks, untracked updates, and inconsistent patching mean they no longer match production or even each other. They become, as one source aptly put it, a \u003ca href=\"https://www.quali.com/glossary/ephemeral-environments/\"\u003e\"hive of duplicated data, exploitable vulnerabilities, and misconfigurations\"\u003c/a\u003e. Each one is a persistent attack surface, a liability that only grows with time.\u003c/p\u003e\n\u003ch2\u003eThe Unseen Environmental Toll\u003c/h2\u003e\n\u003cp\u003eThe money we waste on idle resources is just the tip of the iceberg. Under the surface lies a massive, often ignored, environmental cost. Every idle virtual machine or database isn't just a line item on a bill; it's a physical server in a data center, burning electricity and pumping out CO2 for no reason. Data centers already consume about \u003ca href=\"https://www.researchgate.net/publication/390569272_The_Environmental_Impact_of_Cloud_Computing_Sustainability_in_the_Cloud\"\u003e1% of the world's electricity\u003c/a\u003e, and that number is only going up.\u003c/p\u003e\n\u003cp\u003eTo put this in perspective, a 2019 study found that training a single large AI model can produce the same carbon emissions as \u003ca href=\"https://www.forbes.com/councils/forbestechcouncil/2025/02/20/the-unsung-mechanics-how-ai-and-cloud-integration-drive-the-engine-of-sustainability/\"\u003emore than 300 cross-country flights\u003c/a\u003e. This is the energy cost of our digital world. Beyond emissions, there's e-waste from constant hardware upgrades and the immense amount of water used for cooling. While cloud providers are more efficient than on-premise data centers, the core problem remains: we, the customers, are provisioning resources that sit idle, driving unnecessary environmental impact.\u003c/p\u003e\n\u003cp\u003eLet's make this real. Imagine a team of 10 engineers with a single, static staging environment. It runs 24/7, but they only use it for about 160 hours a month. For the other 560 hours, nearly 78% of the time, it's idle but still racking up costs. Using the CO2 calculator from the \u003ca href=\"https://kube-green.dev/\"\u003ekube-green project\u003c/a\u003e, which assumes that a single pod produces about \u003ca href=\"https://kube-green.dev/docs/FAQ/#how-much-co2-is-produced-by-a-pod\"\u003e11 kg of CO2eq per year\u003c/a\u003e, we can see the impact. If that staging environment runs 20 pods, it generates 220 kg of CO2eq annually. By simply shutting it down when it's idle, the team could prevent over 170 kg of CO2eq emissions. Now, scale that across an entire organization. The waste is enormous.\u003c/p\u003e\n\u003ch2\u003eThe Ephemeral Revolution\u003c/h2\u003e\n\u003cp\u003eThis is where a new idea comes in: the ephemeral environment. It’s a complete shift in thinking. Instead of permanent, long-lived infrastructure, we move to on-demand, temporary workspaces that directly combat waste and friction. An ephemeral environment is a short-lived, isolated, and complete copy of your application, spun up for a specific task and automatically destroyed when you're done.\u003c/p\u003e\n\u003cp\u003eThis approach is built on a few key ideas. First, it's \u003cstrong\u003eon-demand and automated\u003c/strong\u003e. Environments are created by events in your workflow, like opening a pull request, not by filing a ticket. What once took days now takes minutes. Second, each environment is \u003cstrong\u003ecompletely isolated\u003c/strong\u003e. This means no more \"who broke the staging server?\" A developer can test a new feature, run a database migration, or experiment with a dependency without affecting anyone else. This enables true parallel development.\u003c/p\u003e\n\u003cp\u003eCrucially, these are not just simple \"preview environments\". A true ephemeral environment achieves \u003cstrong\u003eproduction-parity\u003c/strong\u003e. It’s a full-fidelity clone of your production stack: backend services, databases, configurations, everything. This is how you kill the \"it works on my machine\" problem for good. Finally, these environments are both \u003cstrong\u003eshareable and disposable\u003c/strong\u003e. You get a unique URL to share with stakeholders for feedback on a live, running feature. When the pull request is merged, the entire environment is wiped away as if it never existed. This disposable nature is the key to its efficiency.\u003c/p\u003e\n\u003cp\u003eAdopting this model has a transformative impact. It dramatically boosts developer velocity by removing bottlenecks. Some organizations have seen \u003ca href=\"https://ephemeralenvironments.io/\"\u003edelivery times improve by up to 35%\u003c/a\u003e and overall velocity increase by as much as 10x. It fosters better collaboration because everyone, from product managers to QA, can interact with a tangible, running feature, not just mockups. This \"shift-left\" approach to testing also means you catch bugs earlier, significantly improving code quality and reducing the risk of production failures. The old static staging environment is a relic of an old era: costly, slow, and risky. The ephemeral model is its opposite: on-demand, fast, safe, and efficient.\u003c/p\u003e\n\u003ch2\u003eThe Technology Pillars: Crossplane and kube-green\u003c/h2\u003e\n\u003cp\u003eThis vision of a fully ephemeral cloud requires the right technology. You need to be able to programmatically control not just your application containers, but the entire infrastructure ecosystem: databases, networks, storage, and more. This is where two key open-source projects come into play: Crossplane and kube-green.\u003c/p\u003e\n\u003cp\u003eCrossplane is the heart of this architecture. It’s a universal control plane that extends the Kubernetes API to manage any cloud resource, not just containers. This represents a profound shift from traditional \u003ca href=\"https://dzone.com/articles/what-is-infrastructure-as-code\"\u003eInfrastructure as Code (IaC)\u003c/a\u003e tools like Terraform to a new model: \u003ca href=\"https://medium.com/@swarupdonepudi/infrastructure-as-data-iad-coincidence-2ca6c70f896e\"\u003eInfrastructure as Data (IaD)\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eWith traditional IaC, you run a command like terraform apply to make a one-time change. With Crossplane, you declare the desired state of your infrastructure in a YAML file and submit it to the Kubernetes API. From then on, Crossplane's controllers work continuously to ensure reality matches your declaration. If anything drifts, Crossplane automatically corrects it. This \"self-healing\" capability is a game-changer.\u003c/p\u003e\n\u003cp\u003eIt works through a clever, layered architecture. \u003cstrong\u003eProviders\u003c/strong\u003e teach Crossplane how to talk to a specific API, like AWS or GCP. \u003cstrong\u003eManaged Resources\u003c/strong\u003e are the building blocks, representing a single piece of infrastructure like an S3 bucket or an RDS database. But the real magic is in \u003cstrong\u003eCompositions\u003c/strong\u003e. A platform team can use a Composition to bundle all the necessary Managed Resources into a single, high-level abstraction, like a PostgreSQLInstance. This blueprint can embed all the company's best practices for security, networking, and compliance.\u003c/p\u003e\n\u003cp\u003eDevelopers don't need to worry about that complexity. They simply request what they need by creating a \u003cstrong\u003eClaim\u003c/strong\u003e: a simple YAML asking for a PostgreSQLInstance for example. Crossplane sees the claim and provisions the entire, production-ready stack automatically. This is true developer self-service, and it's exactly what's needed for ephemeral environments. When a pull request is opened, a CI/CD pipeline can create a single Claim that tells Crossplane to spin up a dedicated database, message queue, and everything else the application needs. When the PR is closed, deleting that one Claim tears it all down.\u003c/p\u003e\n\u003cp\u003eWhile Crossplane manages the existence of the environment, \u003ca href=\"https://kube-green.dev/\"\u003ekube-green\u003c/a\u003e handles the efficiency within that existence. An ephemeral environment might live for a few days, but developers aren't working on it 24/7. kube-green is a simple, brilliant utility that solves this \"last mile\" problem by automatically hibernating resources on a schedule.\u003c/p\u003e\n\u003cp\u003eIt operates as a Kubernetes operator that you configure with a \u003cstrong\u003eSleepInfo\u003c/strong\u003e resource in each namespace. You can tell it to shut things down at 8 PM on weekdays and wake them up at 8 AM, for example. When the sleep time hits, kube-green scales down your Deployments and suspends your CronJobs. When the wake-up time arrives, it brings everything back to its original state. This simple action can lead to huge savings. Adopters have reported \u003ca href=\"https://kube-green.dev/docs/adopters/\"\u003e30-40% reductions in cloud costs\u003c/a\u003e for non-production clusters. And because it reduces energy consumption, it has a direct, positive impact on your carbon footprint.\u003c/p\u003e\n\u003ch2\u003eThe Synthesis: A New Blueprint for Efficiency\u003c/h2\u003e\n\u003cp\u003eWhen you combine Crossplane's strategic, full-stack orchestration with kube-green's tactical, time-based optimization, you get something truly powerful. This synergy creates a multi-layered system of efficiency that aligns your infrastructure cost and carbon footprint with the actual, value-generating work of your development teams.\u003c/p\u003e\n\u003cp\u003eThe workflow, driven by GitOps tools like ArgoCD, is beautifully simple. A developer opens a pull request. This triggers a CI pipeline that generates the manifests for the new environment, including a Crossplane Claim for the infrastructure and a kube-green SleepInfo for the schedule. These manifests are committed to a Git repository. ArgoCD sees the new files and applies them to your management cluster. Crossplane springs into action, provisioning the entire infrastructure stack, perhaps in a lightweight vCluster for perfect isolation. Once the infrastructure is ready, ArgoCD deploys the application code. When the PR is merged or closed, a CI job removes the manifests from Git, and the entire environment vanishes.\u003c/p\u003e\n\u003cp\u003eThis creates a two-tiered optimization model. \u003cstrong\u003eMacro-optimization\u003c/strong\u003e from Crossplane ensures you only pay for infrastructure for the few days a PR is active, not for a permanent staging environment. \u003cstrong\u003eMicro-optimization\u003c/strong\u003e from kube-green then eliminates waste within that short lifespan by hibernating resources during non-working hours.\u003c/p\u003e\n\u003cp\u003eThis points to an exciting point: a \"deep sleep\" model. Using kube-green's ability to patch any Kubernetes resource, you could have it not only scale down pods but also patch the Crossplane Claim itself, for example, telling it to scale a database cluster down to a single, low-cost node overnight. This would extend time-based optimization to the entire stateful infrastructure stack, achieving the ultimate form of on-demand efficiency.\u003c/p\u003e\n\u003ch2\u003eGetting Started on Your Journey\u003c/h2\u003e\n\u003cp\u003eWhile this vision of a fully automated, per-PR ephemeral world is the goal, you don't have to build it all at once. The journey can start with a single, high-impact step. To make these concepts tangible, I've put together a \u003ca href=\"https://github.com/graz-dev/crossplane-ephemeral-environments\"\u003ehands-on tutorial\u003c/a\u003e that focuses on a pragmatic starting point: creating on-demand infrastructure that's only active when you need it.\u003c/p\u003e\n\u003cp\u003eThe tutorial walks you through using Crossplane to provision an AWS EKS cluster and then using kube-green to put it on a sleep/wake schedule. It's a direct, practical way to tackle the biggest source of waste: idle resources.\u003c/p\u003e\n\u003cp\u003eIf this vision for a more efficient cloud resonates with you, the best way to understand it is to build it. I invite you to check out the tutorial, \u003ca href=\"https://github.com/graz-dev/crossplane-ephemeral-environments\"\u003eEphemeral Cloud Resources with Crossplane and kube-green\u003c/a\u003e. Dive in, experiment with the code, and see the benefits for yourself. If you find it valuable, please give the repository a star on GitHub and share this article with your network.\u003c/p\u003e\n\u003ch2\u003eA Strategic Outlook for the Future\u003c/h2\u003e\n\u003cp\u003eThe shift to an ephemeral cloud model is more than a technical upgrade; it's a strategic evolution. It allows us to move from passively managing static resources to actively orchestrating dynamic, value-generating capabilities. The future of this model is even more exciting, driven by AI-powered optimization and the formalization of GreenOps.\u003c/p\u003e\n\u003cp\u003eNew AI tools like StormForge and CAST AI are emerging that can analyze workloads to automatically tune resource configurations and predict demand. Imagine an AI that could predict a PR's review cycle to allocate resources more intelligently or manage energy use based on the real-time carbon intensity of the power grid.\u003c/p\u003e\n\u003cp\u003eThis model is also a foundational practice for GreenOps, the discipline of bringing environmental accountability to cloud operations. As sustainability becomes a key business metric, the ability to measure and minimize the carbon footprint of software development will be a major differentiator.\u003c/p\u003e\n\u003cp\u003eFor technology leaders, the path forward is clear. Treat your internal infrastructure as a product and invest in a platform team to build out this capability. Foster a culture of accountability by making cost and carbon data transparent to your engineering teams. And start small. Pick a single service and use it as a pilot project to prove the value and build expertise.\u003c/p\u003e\n\u003cp\u003eThe combination of Crossplane and kube-green offers a powerful and pragmatic toolkit to begin this journey. By adopting this new blueprint, you can accelerate innovation while dramatically reducing your financial and environmental costs.\u003c/p\u003e\n","pageTitle":"The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green - by Graziano Casto","pageDescription":"The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green - by Graziano Casto","pageLink":"https://castograziano.com/articles/ephemetal-cloud-with-crossplane-and-kubegreen","pageImage":"https://castograziano.com/casto_graziano_personal_website.png"},"schema":{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Ephemeral Cloud: A New Blueprint for Infrastructure Efficiency With Crossplane and kube-green","datePublished":"2025-08-25T00:00:00.000Z","dateModified":"2025-08-25T00:00:00.000Z","author":[{"@type":"Person","name":"Graziano Casto","url":"https://castograziano.com/about-me"}]}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"ephemetal-cloud-with-crossplane-and-kubegreen"},"buildId":"cX5uW1vCazRxt3VxGRD10","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>